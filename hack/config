#!/bin/bash

KUBEVIRT_VERSION="v1.7.0"
CDI_VERSION="v1.64.0"
NETWORK_ADDONS_VERSION="v0.101.1"
SSP_VERSION="v0.24.1"
TTO_VERSION="v0.5.0"
HPPO_VERSION="v0.24.0"
HPP_VERSION="v0.24.0"
AAQ_VERSION="v1.6.0"
WASP_AGENT_VERSION="v1.2.1"
MIGRATION_OPERATOR_VERSION="v0.0.5"
MIGRATION_CONTROLLER_VERSION="v0.0.3"

NODE_DRIVER_REG_VERSION="v2.15.0"
LIVENESS_PROBE_VERSION="v2.17.0"
CSI_SNAPSHOT_VERSION="v8.4.0"
CSI_SIG_STORAGE_PROVISIONER_VERSION="v3.5.0"
KUBE_RBAC_PROXY_VERSION="4.15"

KUBEVIRT_CONSOLE_PLUGIN_VERSION="v4.20.0"
KUBEVIRT_CONSOLE_PROXY_VERSION="v0.0.10"

CONTAINER_REGISTRY="quay.io/kubevirt"

RELEASE_DELTA="${RELEASE_DELTA:-0}"

PACKAGE_DIR="./deploy/olm-catalog/community-kubevirt-hyperconverged"
CSV_VERSION=$(ls -d ${PACKAGE_DIR}/*/ | sort -rV | awk "NR==$((RELEASE_DELTA+1))" | cut -d '/' -f 5)
REPLACES_CSV_VERSION=$(ls -d ${PACKAGE_DIR}/*/ | sort -rV | awk "NR==$((RELEASE_DELTA+2))" | cut -d '/' -f 5)
